<section class="block">

  <span class="big-bold">Our staff</span>

  <div class="switch-container">

    <mat-slide-toggle
      color="secondary"
      class="confirm-switch"
      [checked]="confirmMode"
      (change)="confirmMode = $event.checked"
    >
      Confirm mode
    </mat-slide-toggle>

    <mat-slide-toggle
      color="primary"
      [checked]="draggableMode"
      (change)="draggableMode = $event.checked"
    >
      Draggable mode
    </mat-slide-toggle>

  </div>

  <div
    cdkDropListGroup
    class="scrollable"
  >

    <div
      cdkDropList
      *ngFor="let department of departments; let i = index"
      class="department-container"
      [id]="'department-cdk-drop-' + department.id"
      [cdkDropListData]="department.persons"
      (cdkDropListDropped)="onDrop($event)"
      [cdkDropListDisabled]="!draggableMode"
    >

      <h2>{{department.name}}</h2>

      <div
        cdkDrag
        *ngFor="let person of department.persons"
        class="person-container"
        (click)="openPersonDialog(person)"
      >
        {{person.name}}
      </div>

    </div>

  </div>

</section>
